<body>
  <div class="crebook-container">
    <h2 class="crebook-title">Create a New Book</h2>
    <form
      action="/book/create-new-book"
      method="POST"
      enctype="multipart/form-data"
      class="crebook-form"
    >
      <!-- Title -->
      <div class="crebook-form-group">
        <label for="title" class="crebook-label">Title:</label>
        <input
          type="text"
          id="title"
          name="title"
          class="crebook-input"
          required
        />
      </div>

      <!-- Description -->
      <div class="crebook-form-group">
        <label for="description" class="crebook-label">Description:</label>
        <textarea
          id="description"
          name="description"
          class="crebook-textarea"
          rows="4"
          required
        ></textarea>
      </div>

      <!-- Type -->
      <div class="crebook-form-group">
        <label for="type" class="crebook-label">Type:</label>
        <input
          type="text"
          id="type"
          name="type"
          class="crebook-input"
          required
        />
      </div>

      <div class="crebook-form-group">
        <label for="price" class="crebook-label">Price:</label>
        <input
          type="number"
          id="price"
          name="price"
          class="crebook-input"
          required
          step="0.01"
          min="0"
        />
      </div>

      <div class="crebook-form-group">
        <label for="author" class="crebook-label">Author:</label>
        <input
          type="text"
          id="author"
          name="author"
          class="crebook-input"
          required
        />
      </div>

      <!-- Image Preview -->
      <div class="crebook-form-group">
        <label for="image" class="crebook-label">Image:</label>
        <input
          type="file"
          id="image"
          name="image"
          accept="image/*"
          class="crebook-input"
          onchange="previewImage(event)"
        />
      </div>

      <!-- Submit Button -->
      <div class="crebook-form-group">
        <button type="submit" class="crebook-btn">制作</button>
      </div>

      <div class="crebook-image-preview">
        <img
          id="image-preview"
          style="display: none"
          alt="Image Preview"
          class="crebook-preview-img"
        />
      </div>
    </form>
  </div>
</body>
<script>
  function previewImage(event) {
    const file = event.target.files[0]
    const preview = document.getElementById('image-preview')
    if (file) {
      const reader = new FileReader()
      reader.onload = () => {
        preview.src = reader.result
        preview.style.display = 'block'
      }
      reader.readAsDataURL(file)
    }
  }
</script>
